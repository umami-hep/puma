name: Update TODO Issue
on: [push]

jobs:
  update_issue:
    name: Update the TODO Issue
    runs-on: ubuntu-latest
    container: python:3.8-slim
    steps:
      - name: Check out repository code
        uses: actions/checkout@v3
      - name: Install pylint
        run: pip install pylint==2.12.2
      - run: pip install .
      - run: python .github/workflows/github_update_todo.py
        id: todo_comment_content
      - name: Create comment
        uses: peter-evans/create-or-update-comment@v2
        with:
          issue-number: 63
          body: ${{  join(steps.todo_comment_content.outputs.*, '\n')  }}
          edit-mode: replace
